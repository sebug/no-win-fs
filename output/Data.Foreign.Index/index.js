// Generated by psc-make version 0.6.8

/**
 *  | This module defines a type class for types which act like 
 *  | _property indices_.
 */
"use strict";
var Data_Function = require("Data.Function");
var Data_Foreign = require("Data.Foreign");
var Prelude = require("Prelude");
var Data_Either = require("Data.Either");

  function unsafeReadPropImpl(f, s, key, value) {
    return value == null ? f : s(value[key]);
  }
  ;

  function unsafeHasOwnProperty(prop, value) {
    return Object.prototype.hasOwnProperty.call(value, prop);
  }
  ;

  function unsafeHasProperty(prop, value) {
    return prop in value;
  }
  ;

/**
 *  | This type class identifies types wich act like _property indices_.
 *  |
 *  | The canonical instances are for `String`s and `Number`s.
 */
var Index = function ($bang, errorAt, hasOwnProperty, hasProperty) {
    this["!"] = $bang;
    this.errorAt = errorAt;
    this.hasOwnProperty = hasOwnProperty;
    this.hasProperty = hasProperty;
};

/**
 *  | This type class identifies types wich act like _property indices_.
 *  |
 *  | The canonical instances are for `String`s and `Number`s.
 */
var $bang = function (dict) {
    return dict["!"];
};
var unsafeReadProp = function (k) {
    return function (value) {
        return unsafeReadPropImpl(new Data_Either.Left(new Data_Foreign.TypeMismatch("object", Data_Foreign.typeOf(value))), Prelude.pure(Data_Either.applicativeEither), k, value);
    };
};

/**
 *  | Attempt to read a value from a foreign value property
 */
var prop = unsafeReadProp;

/**
 *  | Attempt to read a value from a foreign value at the specified numeric index
 */
var index = unsafeReadProp;
var hasPropertyImpl = function (_172) {
    return function (_173) {
        if (Data_Foreign.isNull(_173)) {
            return false;
        };
        if (Data_Foreign.isUndefined(_173)) {
            return false;
        };
        if (Data_Foreign.typeOf(_173) === "object" || Data_Foreign.typeOf(_173) === "function") {
            return unsafeHasProperty(_172, _173);
        };
        return false;
    };
};

/**
 *  | This type class identifies types wich act like _property indices_.
 *  |
 *  | The canonical instances are for `String`s and `Number`s.
 */
var hasProperty = function (dict) {
    return dict.hasProperty;
};
var hasOwnPropertyImpl = function (_170) {
    return function (_171) {
        if (Data_Foreign.isNull(_171)) {
            return false;
        };
        if (Data_Foreign.isUndefined(_171)) {
            return false;
        };
        if (Data_Foreign.typeOf(_171) === "object" || Data_Foreign.typeOf(_171) === "function") {
            return unsafeHasOwnProperty(_170, _171);
        };
        return false;
    };
};
var indexNumber = new Index(Prelude.flip(index), Data_Foreign.ErrorAtIndex.create, hasOwnPropertyImpl, hasPropertyImpl);
var indexString = new Index(Prelude.flip(prop), Data_Foreign.ErrorAtProperty.create, hasOwnPropertyImpl, hasPropertyImpl);

/**
 *  | This type class identifies types wich act like _property indices_.
 *  |
 *  | The canonical instances are for `String`s and `Number`s.
 */
var hasOwnProperty = function (dict) {
    return dict.hasOwnProperty;
};

/**
 *  | This type class identifies types wich act like _property indices_.
 *  |
 *  | The canonical instances are for `String`s and `Number`s.
 */
var errorAt = function (dict) {
    return dict.errorAt;
};
module.exports = {
    Index: Index, 
    errorAt: errorAt, 
    hasOwnProperty: hasOwnProperty, 
    hasProperty: hasProperty, 
    "!": $bang, 
    index: index, 
    prop: prop, 
    indexString: indexString, 
    indexNumber: indexNumber
};
