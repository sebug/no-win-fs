// Generated by psc-make version 0.6.8

/**
 *  | This module defines helper functions for working with third-party widgets.
 */
"use strict";
var Data_Function = require("Data.Function");
var Halogen_Internal_VirtualDOM = require("Halogen.Internal.VirtualDOM");
var Prelude = require("Prelude");
var Data_Nullable = require("Data.Nullable");
var Data_DOM_Simple_Types = require("Data.DOM.Simple.Types");
var Data_Int = require("Data.Int");
var Data_Maybe = require("Data.Maybe");
var Control_Monad_Eff = require("Control.Monad.Eff");

/**
 *  | Create a `VTree` from a third-party component (or _widget_), by providing a name, an ID, and three functions:
 *  | 
 *  | - An initialization function, which creates the DOM node, and receives a callback function which can
 *  |   be used to generate inputs
 *  | - An update function, which receives the previous DOM node and optionally creates a new one.
 *  | - A finalizer function, which deallocates any necessary resources when the component is removed from the DOM.
 *  |
 *  | The three functions share a common piece of data of a hidden type `s`.
 */
var widget = function (spec) {
    return Halogen_Internal_VirtualDOM.widget(spec.value, spec.name, spec.id, spec.init, function (v0, v1, ctx, node) {
        return Prelude["<$>"](Control_Monad_Eff.functorEff)(Data_Nullable.toNullable)(spec.update(v0)(v1)(ctx)(node));
    }, Data_Function.mkFn2(spec.destroy));
};
module.exports = {
    widget: widget
};
